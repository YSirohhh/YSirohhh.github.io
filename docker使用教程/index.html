<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0,viewport-fit=cover"><title>docker使用教程 | YSir_Blog</title><meta name="author" content="YSir"><meta name="copyright" content="YSir"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="docker就是用来把某人的程序完好运行在另一个人电脑上的小虚拟机 YSir2025.10.28以下内容只涉及Windows+WSL  参考：https:&#x2F;&#x2F;github.com&#x2F;tech-shrimp&#x2F;docker_installer.git 环境 打开virtual machine platform和适用于Linux的Windows子系统两个功能 运行俩命令 12wsl --set-defau">
<meta property="og:type" content="article">
<meta property="og:title" content="docker使用教程">
<meta property="og:url" content="http://example.com/docker%E4%BD%BF%E7%94%A8%E6%95%99%E7%A8%8B/index.html">
<meta property="og:site_name" content="YSir_Blog">
<meta property="og:description" content="docker就是用来把某人的程序完好运行在另一个人电脑上的小虚拟机 YSir2025.10.28以下内容只涉及Windows+WSL  参考：https:&#x2F;&#x2F;github.com&#x2F;tech-shrimp&#x2F;docker_installer.git 环境 打开virtual machine platform和适用于Linux的Windows子系统两个功能 运行俩命令 12wsl --set-defau">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="http://example.com/img/avatar.jpg">
<meta property="article:published_time" content="2025-10-28T14:47:05.000Z">
<meta property="article:modified_time" content="2026-01-17T14:53:07.926Z">
<meta property="article:author" content="YSir">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="http://example.com/img/avatar.jpg"><script type="application/ld+json">{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "docker使用教程",
  "url": "http://example.com/docker%E4%BD%BF%E7%94%A8%E6%95%99%E7%A8%8B/",
  "image": "http://example.com/img/avatar.jpg",
  "datePublished": "2025-10-28T14:47:05.000Z",
  "dateModified": "2026-01-17T14:53:07.926Z",
  "author": [
    {
      "@type": "Person",
      "name": "YSir",
      "url": "http://example.com"
    }
  ]
}</script><link rel="shortcut icon" href="/img/favicon.ico"><link rel="canonical" href="http://example.com/docker%E4%BD%BF%E7%94%A8%E6%95%99%E7%A8%8B/index.html"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css"><script>
    (() => {
      
    const saveToLocal = {
      set: (key, value, ttl) => {
        if (!ttl) return
        const expiry = Date.now() + ttl * 86400000
        localStorage.setItem(key, JSON.stringify({ value, expiry }))
      },
      get: key => {
        const itemStr = localStorage.getItem(key)
        if (!itemStr) return undefined
        const { value, expiry } = JSON.parse(itemStr)
        if (Date.now() > expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return value
      }
    }

    window.btf = {
      saveToLocal,
      getScript: (url, attr = {}) => new Promise((resolve, reject) => {
        const script = document.createElement('script')
        script.src = url
        script.async = true
        Object.entries(attr).forEach(([key, val]) => script.setAttribute(key, val))
        script.onload = script.onreadystatechange = () => {
          if (!script.readyState || /loaded|complete/.test(script.readyState)) resolve()
        }
        script.onerror = reject
        document.head.appendChild(script)
      }),
      getCSS: (url, id) => new Promise((resolve, reject) => {
        const link = document.createElement('link')
        link.rel = 'stylesheet'
        link.href = url
        if (id) link.id = id
        link.onload = link.onreadystatechange = () => {
          if (!link.readyState || /loaded|complete/.test(link.readyState)) resolve()
        }
        link.onerror = reject
        document.head.appendChild(link)
      }),
      addGlobalFn: (key, fn, name = false, parent = window) => {
        if (!false && key.startsWith('pjax')) return
        const globalFn = parent.globalFn || {}
        globalFn[key] = globalFn[key] || {}
        globalFn[key][name || Object.keys(globalFn[key]).length] = fn
        parent.globalFn = globalFn
      }
    }
  
      
      const activateDarkMode = () => {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      const activateLightMode = () => {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }

      btf.activateDarkMode = activateDarkMode
      btf.activateLightMode = activateLightMode

      const theme = saveToLocal.get('theme')
    
          theme === 'dark' ? activateDarkMode() : theme === 'light' ? activateLightMode() : null
        
      
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        document.documentElement.classList.toggle('hide-aside', asideStatus === 'hide')
      }
    
      
    const detectApple = () => {
      if (/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)) {
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
  
    })()
  </script><script>const GLOBAL_CONFIG = {
  root: '/',
  algolia: undefined,
  localSearch: {"path":"/search.xml","preload":false,"top_n_per_article":1,"unescape":false,"pagination":{"enable":false,"hitsPerPage":8},"languages":{"hits_empty":"未找到符合您查询的内容：${query}","hits_stats":"共找到 ${hits} 篇文章"}},
  translate: {"defaultEncoding":1,"translateDelay":0,"msgToTraditionalChinese":"繁","msgToSimplifiedChinese":"简"},
  highlight: {"plugin":"highlight.js","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":false,"highlightFullpage":false,"highlightMacStyle":false},
  copy: {
    success: '复制成功',
    error: '复制失败',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '',
  dateSuffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: undefined,
  lightbox: 'null',
  Snackbar: undefined,
  infinitegrid: {
    js: 'https://cdn.jsdelivr.net/npm/@egjs/infinitegrid/dist/infinitegrid.min.js',
    buttonText: '加载更多'
  },
  isPhotoFigcaption: false,
  islazyloadPlugin: false,
  isAnchor: false,
  percent: {
    toc: true,
    rightside: true,
  },
  autoDarkmode: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: 'docker使用教程',
  isHighlightShrink: false,
  isToc: true,
  pageType: 'post'
}</script><meta name="generator" content="Hexo 7.3.0"></head><body><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img text-center"><img src="/img/avatar.jpg" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="site-data text-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">8</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">0</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">0</div></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> Home</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> Archives</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> Tags</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> Categories</span></a></div><div class="menus_item"><span class="site-page group hide"><i class="fa-fw fas fa-list"></i><span> List</span><i class="fas fa-chevron-down"></i></span><ul class="menus_item_child"><li><a class="site-page child" href="/music/"><i class="fa-fw fas fa-music"></i><span> Music</span></a></li><li><a class="site-page child" href="/movies/"><i class="fa-fw fas fa-video"></i><span> Movie</span></a></li><li><a class="site-page child" href="/images/"><i class="fa-fw fas fa-image"></i><span> Image</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> Link</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> About</span></a></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header"><nav id="nav"><span id="blog-info"><a class="nav-site-title" href="/"><span class="site-name">YSir_Blog</span></a><a class="nav-page-title" href="/"><span class="site-name">docker使用教程</span><span class="site-name"><i class="fa-solid fa-circle-arrow-left"></i><span>  返回首页</span></span></a></span><div id="menus"><div id="search-button"><span class="site-page social-icon search"><i class="fas fa-search fa-fw"></i><span> 搜索</span></span></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> Home</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> Archives</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> Tags</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> Categories</span></a></div><div class="menus_item"><span class="site-page group hide"><i class="fa-fw fas fa-list"></i><span> List</span><i class="fas fa-chevron-down"></i></span><ul class="menus_item_child"><li><a class="site-page child" href="/music/"><i class="fa-fw fas fa-music"></i><span> Music</span></a></li><li><a class="site-page child" href="/movies/"><i class="fa-fw fas fa-video"></i><span> Movie</span></a></li><li><a class="site-page child" href="/images/"><i class="fa-fw fas fa-image"></i><span> Image</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> Link</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> About</span></a></div></div><div id="toggle-menu"><span class="site-page"><i class="fas fa-bars fa-fw"></i></span></div></div></nav><div id="post-info"><h1 class="post-title">docker使用教程</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">发表于</span><time class="post-meta-date-created" datetime="2025-10-28T14:47:05.000Z" title="发表于 2025-10-28 22:47:05">2025-10-28</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2026-01-17T14:53:07.926Z" title="更新于 2026-01-17 22:53:07">2026-01-17</time></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-wordcount"><i class="far fa-file-word fa-fw post-meta-icon"></i><span class="post-meta-label">总字数:</span><span class="word-count">2.3k</span><span class="post-meta-separator">|</span><i class="far fa-clock fa-fw post-meta-icon"></i><span class="post-meta-label">阅读时长:</span><span>9分钟</span></span><span class="post-meta-separator">|</span><span class="post-meta-pv-cv" id="" data-flag-title=""><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">浏览量:</span><span id="busuanzi_value_page_pv"><i class="fa-solid fa-spinner fa-spin"></i></span></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="container post-content" id="article-container"><h1 id="docker就是用来把某人的程序完好运行在另一个人电脑上的小虚拟机"><a href="#docker就是用来把某人的程序完好运行在另一个人电脑上的小虚拟机" class="headerlink" title="docker就是用来把某人的程序完好运行在另一个人电脑上的小虚拟机"></a>docker就是用来把某人的程序完好运行在另一个人电脑上的小虚拟机</h1><blockquote>
<p>YSir<br>2025.10.28<br>以下内容只涉及Windows+WSL</p>
</blockquote>
<p>参考：<a target="_blank" rel="noopener" href="https://github.com/tech-shrimp/docker_installer.git">https://github.com/tech-shrimp/docker_installer.git</a></p>
<h2 id="环境"><a href="#环境" class="headerlink" title="环境"></a>环境</h2><ol>
<li>打开<code>virtual machine platform</code>和<code>适用于Linux的Windows子系统</code>两个功能</li>
<li>运行俩命令 <figure class="highlight cmd"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">wsl --<span class="built_in">set</span>-default-version <span class="number">2</span>     //要求默认版本为wsl2</span><br><span class="line">wsl --update --web-download     //安装wsl</span><br></pre></td></tr></table></figure></li>
<li>下docker desktop <a target="_blank" rel="noopener" href="https://www.docker.com/products/docker-desktop/">https://www.docker.com/products/docker-desktop/</a></li>
</ol>
<h2 id="命令"><a href="#命令" class="headerlink" title="命令"></a>命令</h2><ol>
<li><p><code>docker pull [&lt;仓库地址&gt;docker.io]/[&lt;命名空间(作者名)&gt;library]/niginx:[&lt;版本号&gt;latest]</code>，如果全部简化则为官方镜像<code>docker pull niginx</code>，一个镜像库由<code>仓库地址+命名空间+镜像名</code>组成</p>
 <figure class="highlight cmd"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">C:\<span class="title">Users</span>\<span class="title">YSir</span>&gt;<span class="title">docker</span> <span class="title">pull</span> <span class="title">nginx</span>         //<span class="title">linux</span>系统需要加<span class="title">sudo</span></span></span><br><span class="line"><span class="function"><span class="title">Using</span> <span class="title">default</span> <span class="title">tag</span>: <span class="title">latest</span></span></span><br><span class="line"><span class="function"><span class="title">latest</span>: <span class="title">Pulling</span> <span class="title">from</span> <span class="title">library</span>/<span class="title">nginx</span></span></span><br><span class="line"><span class="function">38513<span class="title">bd72563</span>: <span class="title">Pull</span> <span class="title">complete</span></span></span><br><span class="line"><span class="function"><span class="title">a0a6ab141558</span>: <span class="title">Pull</span> <span class="title">complete</span></span></span><br><span class="line"><span class="function">0<span class="title">e86847a3920</span>: <span class="title">Pull</span> <span class="title">complete</span></span></span><br><span class="line"><span class="function">1<span class="title">bace2083289</span>: <span class="title">Pull</span> <span class="title">complete</span></span></span><br><span class="line"><span class="function">89<span class="title">df300a082a</span>: <span class="title">Pull</span> <span class="title">complete</span></span></span><br><span class="line"><span class="function">35<span class="title">fb9ffa6621</span>: <span class="title">Pull</span> <span class="title">complete</span></span></span><br><span class="line"><span class="function">5545<span class="title">b08f9d26</span>: <span class="title">Pull</span> <span class="title">complete</span></span></span><br><span class="line"><span class="function"><span class="title">Digest</span>: <span class="title">sha256:f547e3d0d5d02f7009737b284abc87d808e4252b42dceea361811e9fc606287f</span></span></span><br><span class="line"><span class="function"><span class="title">Status</span>: <span class="title">Downloaded</span> <span class="title">newer</span> <span class="title">image</span> <span class="title">for</span> <span class="title">nginx:latest</span></span></span><br><span class="line"><span class="function"><span class="title">docker.io</span>/<span class="title">library</span>/<span class="title">nginx:latest</span></span></span><br></pre></td></tr></table></figure></li>
<li><p>配置镜像站（下载有问题）,复制：</p>
 <figure class="highlight docker"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">&quot;registry-mirrors&quot;</span>: [</span><br><span class="line">        <span class="string">&quot;https://docker.m.daocloud.io&quot;</span>,</span><br><span class="line">        <span class="string">&quot;https://docker.1panel.live&quot;</span>,</span><br><span class="line">        <span class="string">&quot;https://hub.rat.dev&quot;</span></span><br><span class="line">    ]</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p> 粘贴到此处：<img src="/docker%E4%BD%BF%E7%94%A8%E6%95%99%E7%A8%8B/%E4%BB%A3%E7%90%86%E8%AE%BE%E7%BD%AE.png">点击apply&amp;restart</p>
</li>
<li><p><code>docker images</code>查看已下载的镜像</p>
</li>
<li><p><code>docker rmi &lt;镜像名或ID&gt;</code>删除已下载的镜像(i代表images),<code>docker rm</code>即删除正在运行的容器，加<code>-f</code>可强制删除</p>
</li>
<li><p><code>docker run &lt;镜像名&gt; [-d] [-p &lt;本机端口&gt;:&lt;容器端口&gt;] [-v &lt;本机目录:容器目录&gt;]</code><strong>运行容器</strong>，</p>
<ol>
<li><code>-d</code>可以防止刷屏，容器放后台(实际上如果不pull直接run也可以,docker将自动pull)</li>
<li><code>-p</code>端口映射，将容器与本机互通<br>  例如  <figure class="highlight cmd"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">C:\<span class="title">Users</span>\<span class="title">YSir</span>&gt;<span class="title">docker</span> <span class="title">run</span> -<span class="title">p</span> 80:80 <span class="title">nginx</span></span></span><br><span class="line"><span class="function">/<span class="title">docker</span>-<span class="title">entrypoint.sh</span>: /<span class="title">docker</span>-<span class="title">entrypoint.d</span>/ <span class="title">is</span> <span class="title">not</span> <span class="title">empty</span>, <span class="title">will</span> <span class="title">attempt</span> <span class="title">to</span> <span class="title">perform</span> <span class="title">configuration</span></span></span><br><span class="line"><span class="function">/<span class="title">docker</span>-<span class="title">entrypoint.sh</span>: <span class="title">Looking</span> <span class="title">for</span> <span class="title">shell</span> <span class="title">scripts</span> <span class="title">in</span> /<span class="title">docker</span>-<span class="title">entrypoint.d</span>/</span></span><br><span class="line"><span class="function">/<span class="title">docker</span>-<span class="title">entrypoint.sh</span>: <span class="title">Launching</span> /<span class="title">docker</span>-<span class="title">entrypoint.d</span>/10-<span class="title">listen</span>-<span class="title">on</span>-<span class="title">ipv6</span>-<span class="title">by</span>-<span class="title">default.sh</span></span></span><br><span class="line"><span class="function">10-<span class="title">listen</span>-<span class="title">on</span>-<span class="title">ipv6</span>-<span class="title">by</span>-<span class="title">default.sh</span>: <span class="title">info</span>: <span class="title">Getting</span> <span class="title">the</span> <span class="title">checksum</span> <span class="title">of</span> /<span class="title">etc</span>/<span class="title">nginx</span>/<span class="title">conf.d</span>/<span class="title">default.conf</span></span></span><br><span class="line"><span class="function">10-<span class="title">listen</span>-<span class="title">on</span>-<span class="title">ipv6</span>-<span class="title">by</span>-<span class="title">default.sh</span>: <span class="title">info</span>: <span class="title">Enabled</span> <span class="title">listen</span> <span class="title">on</span> <span class="title">IPv6</span> <span class="title">in</span> /<span class="title">etc</span>/<span class="title">nginx</span>/<span class="title">conf.d</span>/<span class="title">default.conf</span></span></span><br><span class="line"><span class="function">/<span class="title">docker</span>-<span class="title">entrypoint.sh</span>: <span class="title">Sourcing</span> /<span class="title">docker</span>-<span class="title">entrypoint.d</span>/15-<span class="title">local</span>-<span class="title">resolvers.envsh</span></span></span><br><span class="line"><span class="function">/<span class="title">docker</span>-<span class="title">entrypoint.sh</span>: <span class="title">Launching</span> /<span class="title">docker</span>-<span class="title">entrypoint.d</span>/20-<span class="title">envsubst</span>-<span class="title">on</span>-<span class="title">templates.sh</span></span></span><br><span class="line"><span class="function">/<span class="title">docker</span>-<span class="title">entrypoint.sh</span>: <span class="title">Launching</span> /<span class="title">docker</span>-<span class="title">entrypoint.d</span>/30-<span class="title">tune</span>-<span class="title">worker</span>-<span class="title">processes.sh</span></span></span><br><span class="line"><span class="function">/<span class="title">docker</span>-<span class="title">entrypoint.sh</span>: <span class="title">Configuration</span> <span class="title">complete</span>; <span class="title">ready</span> <span class="title">for</span> <span class="title">start</span> <span class="title">up</span></span></span><br><span class="line"><span class="function">2025/10/31 13:45:04 [<span class="title">notice</span>] 1#1: <span class="title">using</span> <span class="title">the</span> &quot;<span class="title">epoll</span>&quot; <span class="title">event</span> <span class="title">method</span></span></span><br><span class="line"><span class="function">2025/10/31 13:45:04 [<span class="title">notice</span>] 1#1: <span class="title">nginx</span>/1.29.3</span></span><br><span class="line"><span class="function">2025/10/31 13:45:04 [<span class="title">notice</span>] 1#1: <span class="title">built</span> <span class="title">by</span> <span class="title">gcc</span> 14.2.0 (<span class="title">Debian</span> 14.2.0-19)</span></span><br><span class="line"><span class="function">2025/10/31 13:45:04 [<span class="title">notice</span>] 1#1: <span class="title">OS</span>: <span class="title">Linux</span> 5.15.167.4-<span class="title">microsoft</span>-<span class="title">standard</span>-<span class="title">WSL2</span></span></span><br><span class="line"><span class="function">2025/10/31 13:45:04 [<span class="title">notice</span>] 1#1: <span class="title">getrlimit</span>(<span class="title">RLIMIT_NOFILE</span>): 1048576:1048576</span></span><br><span class="line"><span class="function">2025/10/31 13:45:04 [<span class="title">notice</span>] 1#1: <span class="title">start</span> <span class="title">worker</span> <span class="title">processes</span></span></span><br><span class="line"><span class="function">2025/10/31 13:45:04 [<span class="title">notice</span>] 1#1: <span class="title">start</span> <span class="title">worker</span> <span class="title">process</span> 29</span></span><br><span class="line"><span class="function">2025/10/31 13:45:04 [<span class="title">notice</span>] 1#1: <span class="title">start</span> <span class="title">worker</span> <span class="title">process</span> 30</span></span><br><span class="line"><span class="function">...</span></span><br></pre></td></tr></table></figure>
  此时我访问<code>localhost:80</code>就会出现nginx的欢迎界面，ctrl+c以结束</li>
<li><code>-v</code>设置挂载卷，设置后使得容器文件夹使用本机文件夹，但只能访问本机文件夹(<strong>注:有一个历史遗留问题，Linux目录路径为<code>/</code>而Windows为<code>\</code></strong>)<br> 例子 <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">C:\Users\YSir&gt;docker run -p 80:80 -v C:\website\html:/usr/share/nginx/html nginx</span><br><span class="line">//一定要在C:\website\html中也创建一个index.html，否则403</span><br></pre></td></tr></table></figure>
 还可以使用<strong>命名卷挂载</strong><ul>
<li>创建挂载卷<code>docker volume create &lt;挂载卷名&gt;</code></li>
<li>查看挂载卷位置<code>docker volume inspect &lt;挂载卷名&gt;</code></li>
<li>命名卷会自动复制第一次使用时会自动拷贝容器内对应文件</li>
<li><code>docker volume list</code>可例出所有使用中的命名卷</li>
<li><code>docker volume rm &lt;命名卷名&gt;</code>删除命名卷</li>
<li><code>docekr volume prune -a</code>删除所有未在使用的命名卷</li>
<li>这玩意在Windows里有小bug，先不管</li>
</ul>
</li>
<li><code>-e</code>设置环境变量<br> 如 <figure class="highlight docker"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">docker <span class="keyword">run</span><span class="language-bash"> -d \</span></span><br><span class="line"><span class="language-bash">-p 27017:27017 \</span></span><br><span class="line"><span class="language-bash">-e MONGO_INITDB_ROOT_USERNAME = tech \</span></span><br><span class="line"><span class="language-bash">-e MONGO_INITDB_ROOT_PASSWORD = shrimp \</span></span><br><span class="line"><span class="language-bash">mongo</span></span><br></pre></td></tr></table></figure>
 这样数据库的账号密码就会作为环境变量传递进去，使mongo数据库预设好账号密码。<br> 使用<code>mongosh &quot;mongodb://tech:shrimp@111.231.100.92:27017&quot;</code>即可连入数据库(111.231.100.92是别人的服务器)，不清楚环境变量可以在镜像文档里找</li>
<li><code>--name &lt;容器名&gt;</code>为容器自定义名称以取代容器ID，这样就可以直接用<code>docker rm &lt;容器名&gt;</code>来删除容器</li>
<li><code>-t</code>可进入容器，常搭配<code>--rm</code>使用</li>
<li><code>--rm</code>当容器停止运行时删除容器<br> 例<code>docker run -t --rm alpine</code>(alpine是一个轻型linux)，这样可以直接进入容器内部，并在退出容器的同时删除容器，用于临时调试容器与之相同的还有<code>--restart</code><br> 例<code>docker run --restart always nginx</code>如果容器被关闭就会立即重启<br> 例<code>docker run --restart unless-stopped</code>如果是非手动停止容器就立即重启</li>
<li><code>start</code>启动容器</li>
<li><code>stop</code>停止容器，使用start和stop可以让docker将容器数据保留下来，避免被删除</li>
</ol>
</li>
<li><p><code>docker ps</code>查看正在运行的容器(镜像可比作类，而容器就是对象)<code>-a</code>可查看所有容器</p>
</li>
<li><p><code>docker stop &lt;容器ID&gt;</code>停止某运行中的容器，以方便删除容器</p>
</li>
<li><p><code>docker container prune</code>可以直接删掉停止使用的容器</p>
</li>
<li><p><code>docker inspect &lt;容器ID&gt;</code>查看容器详细信息，可查看启动参数，内容可能看不懂，丢给ai就好</p>
</li>
<li><p><code>docker create &lt;镜像名&gt;</code>与<code>run</code>差不多，唯一区别就是需要手动start</p>
</li>
<li><p><code>docker log &lt;容器ID&gt;</code>查看容器日志<code>-f</code>可实时刷新</p>
</li>
</ol>
<h2 id="调试"><a href="#调试" class="headerlink" title="调试"></a>调试</h2><p><code>docker</code>用<code>linux</code>的<code>cgroups</code>和<code>namespaces</code>实现容器化，<code>cgroups</code>用来限制容器资源调度上限，<code>namespaces</code>用来隔离容器使容器看不见外部情况</p>
<ol>
<li><code>docker exec &lt;容器ID&gt; &lt;linux命令&gt;</code>在容器内部执行Linux命令，如<code>docker exec d123d123 ps -ef</code>查看容器d123d123的进程，还有常用命令<code>docker exec -it &lt;容器ID&gt; /bin/sh</code>进入一个容器内部获得其shell，当然容器简单到连文本编辑工具vi都没有，要自己安装</li>
<li>进入容器内部后使用<code>cat /etc/os-release</code>可查看容器所使用的linux系统，依照系统下载文本编辑器等工具，以nginx举例<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">docker exec -it &lt;容器ID&gt; /bin/sh        //进入容器</span><br><span class="line"># cat /etc/os-release</span><br><span class="line">PRETTY_NAME=&quot;Debian GNU/Linux 13 (trixie)&quot;      //这里可发现使用的是Debian</span><br><span class="line">...</span><br><span class="line"># apt update        //debain使用apt命令安装软件，更新apt索引</span><br><span class="line"># apt install vim       //安装文本编辑器vim</span><br><span class="line"># cd /usr/share/nginx/html      //进入网页默认文件夹</span><br><span class="line"># cat index.html        //编辑默认网页</span><br><span class="line"></span><br></pre></td></tr></table></figure></li>
</ol>
<h2 id="制作镜像并推送到dockerhub"><a href="#制作镜像并推送到dockerhub" class="headerlink" title="制作镜像并推送到dockerhub"></a>制作镜像并推送到dockerhub</h2><p>感觉对我没啥用，下次再说 :)</p>
<h2 id="Docker网络设置"><a href="#Docker网络设置" class="headerlink" title="Docker网络设置"></a>Docker网络设置</h2><h3 id="bridge桥接模式"><a href="#bridge桥接模式" class="headerlink" title="bridge桥接模式"></a>bridge桥接模式</h3><p>默认birdge桥接模式，所有容器默认连接到容器内网，所有容器分配一个IP地址(大多172.17.x.x)，并且容器内网与本机网络隔离，<br><code>docker network create network1</code>可创建子网，仍属于桥接模式，可指定容器加入子网，不同子网的容器不可相互通信，同一子网的好处是可以直接使用容器名访问而非IP<br>例子</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">//该容器没进行端口映射，目的是不能让客户机直接访问数据库</span><br><span class="line">root@LAPTOP-L57F2HR5:/# docker run -d \</span><br><span class="line">&gt; --name my_mongodb \           //为容器命名，使得同一子网的容器可以直接找到该容器不需要知道IP</span><br><span class="line">&gt; -e MONGO_INITDB_ROOT_USERNAME=tech \      //设置环境变量</span><br><span class="line">&gt; -e MONGO_INITDB_ROOT_PASSWORD=shrimp \</span><br><span class="line">&gt; --network network1 \      //接入子网network1</span><br><span class="line">&gt; mongo</span><br><span class="line">0787c32666073e64489e84d67fcec037ebd70de00c514a3aa1d17b41e6f08555</span><br><span class="line"></span><br><span class="line">//启动了一个mongodb的客户端，这才是希望客户机看到的，所以设置了端口映射</span><br><span class="line">root@LAPTOP-L57F2HR5:/# docker run -d \</span><br><span class="line">&gt; --name my_mongodb_express \</span><br><span class="line">&gt; -p 8081:8081 \</span><br><span class="line">//这里并没有写my_mongodb的IP而是直接告诉他名字，因为容器子网内部有一个DNS</span><br><span class="line">&gt; -e ME_CONFIG_MONGODB_SERVER=my_mongodb \</span><br><span class="line">&gt; -e ME_CONFIG_MONGODB_ADMINUSERNAME=tech \</span><br><span class="line">&gt; -e ME_CONFIG_MONGODB_ADMINPASSWORD=shrimp \</span><br><span class="line">&gt; --network network1 \</span><br><span class="line">&gt; mongo-express</span><br></pre></td></tr></table></figure>
<p>这样一来就可以在浏览器里访问该数据库了<br><img src="/docker%E4%BD%BF%E7%94%A8%E6%95%99%E7%A8%8B/%E9%BB%98%E8%AE%A4%E8%B4%A6%E5%8F%B7%E5%AF%86%E7%A0%81.png">默认用户名为admin，密码为pass<br><img src="/docker%E4%BD%BF%E7%94%A8%E6%95%99%E7%A8%8B/%E6%95%B0%E6%8D%AE%E5%BA%93%E7%AE%A1%E7%90%86%E7%95%8C%E9%9D%A2.png"><br>接下来进入mongodb-express里看看是怎么个事</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">root@LAPTOP-L57F2HR5:/# docker exec -it my_mongodb_express /bin/sh</span><br><span class="line">/app # ping my_mongodb      //这里ping的是容器名</span><br><span class="line">PING my_mongodb (172.18.0.2): 56 data bytes     //而这里自动转为IP地址，所以容器子网里有DNS</span><br><span class="line">64 bytes from 172.18.0.2: seq=0 ttl=64 time=0.153 ms</span><br><span class="line">64 bytes from 172.18.0.2: seq=1 ttl=64 time=0.148 ms</span><br><span class="line">64 bytes from 172.18.0.2: seq=2 ttl=64 time=0.095 ms</span><br></pre></td></tr></table></figure>
<p>子网逻辑图<br><img src="/docker%E4%BD%BF%E7%94%A8%E6%95%99%E7%A8%8B/%E5%AD%90%E7%BD%91%E9%80%BB%E8%BE%91%E5%9B%BE.png"></p>
<h3 id="Host模式"><a href="#Host模式" class="headerlink" title="Host模式"></a>Host模式</h3><p>该模式容器直接共享本机网络，使用本机IP，无需<code>-p</code>进行端口映射<br><code>docker run --network host &lt;容器名&gt;</code>以设置Host模式<br>例</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">root@LAPTOP-L57F2HR5:/# docker run -d --network host nginx      //此时直接访问localhost:80可访问</span><br><span class="line">root@LAPTOP-L57F2HR5:/# docker exec -it 777a5aed9007 /bin/sh        //进入容器看看IP</span><br><span class="line"># apt update</span><br><span class="line"># apt install iproute2          //想查看IP先安装这个工具</span><br><span class="line"># ip addr show</span><br><span class="line">1: lo: &lt;LOOPBACK,UP,LOWER_UP&gt; mtu 65536 qdisc noqueue state UNKNOWN group default qlen 1000</span><br><span class="line">    link/loopback 00:00:00:00:00:00 brd 00:00:00:00:00:00</span><br><span class="line">    inet 127.0.0.1/8 scope host lo</span><br><span class="line">       valid_lft forever preferred_lft forever</span><br><span class="line">    inet6 ::1/128 scope host proto kernel_lo</span><br><span class="line">       valid_lft forever preferred_lft forever</span><br><span class="line">2: eth0@if5: &lt;BROADCAST,MULTICAST,UP,LOWER_UP&gt; mtu 1500 qdisc noqueue state UP group default</span><br><span class="line">    link/ether b6:6a:6d:f5:3d:09 brd ff:ff:ff:ff:ff:ff link-netnsid 0</span><br><span class="line">    inet 172.17.0.2/16 brd 172.17.255.255 scope global eth0     //看这里的IP，有bug:(，先不管，反正应该相同就对了:)</span><br><span class="line">       valid_lft forever preferred_lft forever</span><br></pre></td></tr></table></figure>

<h3 id="网络命令"><a href="#网络命令" class="headerlink" title="网络命令"></a>网络命令</h3><p><code>docker network list</code>列出已有网络(包括已创建子网)</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">NETWORK ID     NAME       DRIVER    SCOPE</span><br><span class="line">b4d69f5d9f25   bridge     bridge    local       //系统自带</span><br><span class="line">5f5d36bcccdd   host       host      local       //系统自带</span><br><span class="line">af2dd9a83849   network1   bridge    local</span><br><span class="line">ca033ed54219   none       null      local       //系统自带</span><br></pre></td></tr></table></figure>
<p><code>docker network rm &lt;网络名&gt;</code>删除已有网络(系统自带无法删除)</p>
</article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta"><i class="fas fa-circle-user fa-fw"></i>文章作者: </span><span class="post-copyright-info"><a href="http://example.com">YSir</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta"><i class="fas fa-square-arrow-up-right fa-fw"></i>文章链接: </span><span class="post-copyright-info"><a href="http://example.com/docker%E4%BD%BF%E7%94%A8%E6%95%99%E7%A8%8B/">http://example.com/docker%E4%BD%BF%E7%94%A8%E6%95%99%E7%A8%8B/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta"><i class="fas fa-circle-exclamation fa-fw"></i>版权声明: </span><span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来源 <a href="http://example.com" target="_blank">YSir_Blog</a>！</span></div></div><div class="tag_share"><div class="post-share"><div class="social-share" data-image="/img/avatar.jpg" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/css/share.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/js/social-share.min.js" defer></script></div></div><nav class="pagination-post" id="pagination"><a class="pagination-related" href="/hello-world/" title="Hello World"><div class="cover" style="background: var(--default-bg-color)"></div><div class="info"><div class="info-1"><div class="info-item-1">上一篇</div><div class="info-item-2">Hello World</div></div><div class="info-2"><div class="info-item-1">Welcome to Hexo! This is your very first post. Check documentation for more info. If you get any problems when using Hexo, you can find the answer in troubleshooting or you can ask me on GitHub. Quick StartCreate a new post1$ hexo new &quot;My New Post&quot;  More info: Writing Run server1$ hexo server  More info: Server Generate static files1$ hexo generate  More info: Generating Deploy to remote sites1$ hexo deploy  More info: Deployment </div></div></div></a><a class="pagination-related" href="/git%E4%BD%BF%E7%94%A8%E6%95%99%E7%A8%8B/" title="git使用教程"><div class="cover" style="background: var(--default-bg-color)"></div><div class="info text-right"><div class="info-1"><div class="info-item-1">下一篇</div><div class="info-item-2">git使用教程</div></div><div class="info-2"><div class="info-item-1">git就是用来后悔和溯源的备份仓库配置外部仓库账号12$ git config --global user.name &quot;John Doe&quot;$ git config --global user.email johndoe@example.com  最好更改一下代理： 12git config --global http.proxy http://127.0.0.1:7897git config --global https.proxy https://127.0.0.1:7897  创建本地git仓库方法1.克隆别人的仓库git clone &lt;address&gt; 方法2.   在文件夹中执行git init以创建.git文件夹，即代码仓库 git add &lt;需要入库的文件&gt;把文件放入暂存区(git add .可以把文件夹的所有文件放入暂存区) git commit [-m &quot;要备注的字符串&quot;]提交暂存区的文件  此时仅仅只是导入本地仓库，还没进入GitHub 连接绑定远程仓库 git remote add &lt;仓库别...</div></div></div></a></nav></div><div class="aside-content" id="aside-content"><div class="card-widget card-info text-center"><div class="avatar-img"><img src="/img/avatar.jpg" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info-name">YSir</div><div class="author-info-description"></div><div class="site-data"><a href="/archives/"><div class="headline">文章</div><div class="length-num">8</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">0</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">0</div></a></div><a id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/YSirohhh"><i class="fab fa-github"></i><span>Follow Me</span></a><div class="card-info-social-icons"><a class="social-icon" href="https://github.com/YSirohhh" target="_blank" title="Github"><i class="fab fa-github" style="color: #hdhfbb;"></i></a><a class="social-icon" href="mailto:2832876089@qq.com" target="_blank" title="Email"><i class="fas fa-envelope" style="color: #000000;"></i></a><a class="social-icon" href="https://space.bilibili.com/526236892" target="_blank" title="Bilibili"><i class="fas fa-tv" style="color: #fb7299;"></i></a></div></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn fa-shake"></i><span>公告</span></div><div class="announcement_content">This is my Blog</div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>目录</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#docker%E5%B0%B1%E6%98%AF%E7%94%A8%E6%9D%A5%E6%8A%8A%E6%9F%90%E4%BA%BA%E7%9A%84%E7%A8%8B%E5%BA%8F%E5%AE%8C%E5%A5%BD%E8%BF%90%E8%A1%8C%E5%9C%A8%E5%8F%A6%E4%B8%80%E4%B8%AA%E4%BA%BA%E7%94%B5%E8%84%91%E4%B8%8A%E7%9A%84%E5%B0%8F%E8%99%9A%E6%8B%9F%E6%9C%BA"><span class="toc-number">1.</span> <span class="toc-text">docker就是用来把某人的程序完好运行在另一个人电脑上的小虚拟机</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%8E%AF%E5%A2%83"><span class="toc-number">1.1.</span> <span class="toc-text">环境</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%91%BD%E4%BB%A4"><span class="toc-number">1.2.</span> <span class="toc-text">命令</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%B0%83%E8%AF%95"><span class="toc-number">1.3.</span> <span class="toc-text">调试</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%88%B6%E4%BD%9C%E9%95%9C%E5%83%8F%E5%B9%B6%E6%8E%A8%E9%80%81%E5%88%B0dockerhub"><span class="toc-number">1.4.</span> <span class="toc-text">制作镜像并推送到dockerhub</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Docker%E7%BD%91%E7%BB%9C%E8%AE%BE%E7%BD%AE"><span class="toc-number">1.5.</span> <span class="toc-text">Docker网络设置</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#bridge%E6%A1%A5%E6%8E%A5%E6%A8%A1%E5%BC%8F"><span class="toc-number">1.5.1.</span> <span class="toc-text">bridge桥接模式</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Host%E6%A8%A1%E5%BC%8F"><span class="toc-number">1.5.2.</span> <span class="toc-text">Host模式</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%BD%91%E7%BB%9C%E5%91%BD%E4%BB%A4"><span class="toc-number">1.5.3.</span> <span class="toc-text">网络命令</span></a></li></ol></li></ol></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>最新文章</span></div><div class="aside-list"><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/sm3%E7%AE%97%E6%B3%95%E5%AE%9E%E7%8E%B0/" title="sm3算法实现">sm3算法实现</a><time datetime="2026-01-17T14:43:48.000Z" title="发表于 2026-01-17 22:43:48">2026-01-17</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/sm3%E6%A1%88%E4%BE%8B-abcd-16/" title="sm3案例'abcd'*16">sm3案例'abcd'*16</a><time datetime="2026-01-17T14:42:31.000Z" title="发表于 2026-01-17 22:42:31">2026-01-17</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/sm3%E6%A1%88%E4%BE%8B-abc/" title="sm3案例'abc'">sm3案例'abc'</a><time datetime="2026-01-17T14:40:14.000Z" title="发表于 2026-01-17 22:40:14">2026-01-17</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/IK%E9%87%8D%E5%AE%9A%E5%90%91/" title="IK重定向">IK重定向</a><time datetime="2026-01-17T05:59:35.000Z" title="发表于 2026-01-17 13:59:35">2026-01-17</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2026-1-16-%E7%AC%AC%E4%B8%80%E7%AF%87%E6%96%87%E7%AB%A0/" title="第一篇文章">第一篇文章</a><time datetime="2026-01-16T07:34:48.000Z" title="发表于 2026-01-16 15:34:48">2026-01-16</time></div></div></div></div></div></div></main><footer id="footer"><div class="footer-other"><div class="footer-copyright"><span class="copyright">&copy;&nbsp;2019 - 2026 By YSir</span><span class="framework-info"><span>框架 </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo 7.3.0</a><span class="footer-separator">|</span><span>主题 </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly 5.5.3</a></span></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="fas fa-book-open"></i></button><button id="translateLink" type="button" title="简繁转换">简</button><button id="darkmode" type="button" title="日间和夜间模式切换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside-config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="fas fa-list-ul"></i></button><button id="go-up" type="button" title="回到顶部"><span class="scroll-percent"></span><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="/js/tw_cn.js"></script><div class="js-pjax"><script>(() => {
  const runMermaid = ele => {
    window.loadMermaid = true
    const theme = document.documentElement.getAttribute('data-theme') === 'dark' ? 'dark' : 'default'

    ele.forEach((item, index) => {
      const mermaidSrc = item.firstElementChild
      const config = mermaidSrc.dataset.config ? JSON.parse(mermaidSrc.dataset.config) : {}
      if (!config.theme) {
        config.theme = theme
      }
      const mermaidThemeConfig = `%%{init: ${JSON.stringify(config)}}%%\n`
      const mermaidID = `mermaid-${index}`
      const mermaidDefinition = mermaidThemeConfig + mermaidSrc.textContent

      const renderFn = mermaid.render(mermaidID, mermaidDefinition)
      const renderMermaid = svg => {
        mermaidSrc.insertAdjacentHTML('afterend', svg)
      }

      // mermaid v9 and v10 compatibility
      typeof renderFn === 'string' ? renderMermaid(renderFn) : renderFn.then(({ svg }) => renderMermaid(svg))
    })
  }

  const codeToMermaid = () => {
    const codeMermaidEle = document.querySelectorAll('pre > code.mermaid')
    if (codeMermaidEle.length === 0) return

    codeMermaidEle.forEach(ele => {
      const preEle = document.createElement('pre')
      preEle.className = 'mermaid-src'
      preEle.hidden = true
      preEle.textContent = ele.textContent
      const newEle = document.createElement('div')
      newEle.className = 'mermaid-wrap'
      newEle.appendChild(preEle)
      ele.parentNode.replaceWith(newEle)
    })
  }

  const loadMermaid = () => {
    if (true) codeToMermaid()
    const $mermaid = document.querySelectorAll('#article-container .mermaid-wrap')
    if ($mermaid.length === 0) return

    const runMermaidFn = () => runMermaid($mermaid)
    btf.addGlobalFn('themeChange', runMermaidFn, 'mermaid')
    window.loadMermaid ? runMermaidFn() : btf.getScript('https://cdn.jsdelivr.net/npm/mermaid/dist/mermaid.min.js').then(runMermaidFn)
  }

  btf.addGlobalFn('encrypt', loadMermaid, 'mermaid')
  window.pjax ? loadMermaid() : document.addEventListener('DOMContentLoaded', loadMermaid)
})()</script></div><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><div id="local-search"><div class="search-dialog"><nav class="search-nav"><span class="search-dialog-title">搜索</span><i class="fas fa-spinner fa-pulse" id="loading-status" hidden="hidden"></i><button class="search-close-button"><i class="fas fa-times"></i></button></nav><div class="text-center" id="loading-database"><i class="fas fa-spinner fa-pulse"></i><span>  数据加载中</span></div><div class="local-search-input"><input placeholder="搜索文章" type="text"/></div><hr/><div id="local-search-results"></div><div class="ais-Pagination" id="local-search-pagination" style="display:none;"><ul class="ais-Pagination-list"></ul></div><div id="local-search-stats"></div></div><div id="search-mask"></div><script src="/js/search/local-search.js"></script></div></div></body></html>